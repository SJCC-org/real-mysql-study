# 4.1 MySQL 엔진 아키텍처

## 4.1.1 MySQL 의 전체 구조

### 4.1.1.1 MySQL 엔진

> 요청된 SQL 문장을 분석하거나 최적화 하는 등의 DBMS의 두뇌 역할

* `커넥션 핸들러`, `SQL 파서`, `전처리기`, `옵티마이저` 가 중심을 이룸
* 표준 SQL (ANSI SQL) 문법을 지원하기 때문에 표준 문법에 따라 작성된 쿼리는 타 DBMS와 호환 가능

### 4.1.1.2 스토리지 엔진

> 실제 데이터를 디스크 스토리지에 저장하거나 디스크 스토리지로부터 데이터를 읽어오는 부분

```sql
CREATE TABLE test_table (fd1 INT, fd2 INT) ENGINE=INNODB; 
```

* MySQL 엔진은 하나지만 스토리지 엔진은 여러 개를 동시에 사용 가능
* 위 `test_table` 에 대해 `INSERT`, `UPDATE`, `DELETE`, `SELECT`, ... 등의 작업이 바생하면 `InnoDB` 스토리지 엔진이 그러한 처리를 담당
* 각 스토리지 엔진은 성능 향상을 위해 키 캣(MyISAM 스토리지 엔진), InnoDB 버퍼 풀(InnoDB 스토리지 엔진)과 같은 기능을 내장

### 4.1.1.3 핸들러 API

* MySQL 엔진의 쿼리 실행기에서 데이터를 쓰거나 읽어야 할 때는 각 스토리지 엔진에 쓰기 또는 읽기를 요청하는데, 이러한 요청을 `핸들러(Handler)` 요청이라 함
* 이때 사용되는 API 를 `핸들러 API` 이라 함

```sql
SHOW GLOBAL STATUS LIKE 'Handler%';
-- 이 핸들러 API를 통해 얼마나 많은 데이터(레코드) 작업이 있었는지
```


# 4.3 MyISAM 스토리지 엔진 아키텍처

## 4.3.1 키 캐시

> 자세한 설명은 MySQL 매뉴얼의 'Multiple Key caches' 부분 참고

- InnoDB의 버퍼 풀과 비슷한 역할
- 인덱스만을 대상으로 작동
- 인덱스의 디스크 쓰기 작업에 대해서만 부분적으로 버퍼링
- 키 캐시 히트율(Hit rate) = 100 - (Key_reads / Key_read_requests * 100)
  - Key_reads: 인덱스를 디스크에서 읽어 들인 횟수를 저장하는 상태 변수
  - Key_read_requests: 키 캐시로부터 인덱스를 읽은 횟수를 저장하는 상태 변수
  - 99% 이상으로 유지

```sql
-- Key_reads, Key_read_requests 상태변수 확인
SHOW GLOBAL STATUS LIKE 'Key%';
```

## 4.3.2 운영체제의 캐시 및 버퍼

- MyISAM 스토리지 엔진은 MyISAM 테이블의 데이터에 대해 디스크로부터 I/O를 해결해 줄 만한 어떠한 캐시나 버퍼링 기능도 가지고 있지 않음
  - 테이블의 데이터 읽기나 쓰기 작업은 항상 운영체제의 디스크 읽기 또는 쓰기 작업으로 요청
  - 대부분의 운영체제는 디스크로부터 읽고 쓰는 파일에 대한 캐시나 버퍼링 매커니즘이 탑재
- 운영체제의 캐시 공간은 남는 메모리를ㄹ 사용하는 것이 기본
  - 키 캐시는 최대 물리 메모리의 40% 이상을 넘지 않게 설정
  - 나머지 메모리 공간은 운영체제가 자체적인 파일 시스템을 위한 캐시공간을 마련할 수 있도록
